{"version":3,"file":"testUtils.js","sourceRoot":"","sources":["../../src/internal/testUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import { matcherHint, printReceived, printExpected } from \"jest-matcher-utils\";\r\nimport { Deprecation } from \"./utils\";\r\n\r\n/* @internal */\r\nexport const isObject = (value: unknown) => typeof value === \"object\" && value !== null;\r\n\r\n/* @internal */\r\nexport const isFunction = (value: unknown) => typeof value === \"function\";\r\n\r\n/* @internal */\r\nexport const isOwn = (object: object, key: keyof any) => !!Object.getOwnPropertyDescriptor(object, key);\r\n\r\n/* @internal */\r\nexport const isInherited = (object: object | undefined, key: keyof any, base?: object): boolean =>\r\n    object === undefined ? false :\r\n    object === base ? isOwn(object, key) :\r\n        isInherited(Object.getPrototypeOf(object), key, base);\r\n\r\n/* @internal */\r\nexport const isEnumerable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.enumerable === true;\r\n\r\n/* @internal */\r\nexport const isNonEnumerable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.enumerable === false;\r\n\r\n/* @internal */\r\nexport const isConfigurable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.configurable === true;\r\n\r\n/* @internal */\r\nexport const isNonConfigurable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.configurable === false;\r\n\r\n/* @internal */\r\nexport const isWritable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.writable === true;\r\n\r\n/* @internal */\r\nexport const isNonWritable = (object: object, key: keyof any) => Object.getOwnPropertyDescriptor(object, key)?.writable === false;\r\n\r\n/* @internal */\r\nexport const hasOwnMethod = (object: object, key: keyof any) => isFunction(Object.getOwnPropertyDescriptor(object, key)?.value);\r\n\r\n/* @internal */\r\nexport const hasOwnGetter = (object: object, key: keyof any) => !!Object.getOwnPropertyDescriptor(object, key)?.get;\r\n\r\n/* @internal */\r\nexport const hasOwnSetter = (object: object, key: keyof any) => !!Object.getOwnPropertyDescriptor(object, key)?.set;\r\n\r\nfunction makePropertyExpectationWithBase(test: (object: object, key: keyof any, base?: object) => boolean, name: string, expectedMessage: string, isNegation: boolean) {\r\n    const formatKey = (key: keyof any) => typeof key === \"symbol\" ? key.toString() : JSON.stringify(key);\r\n    const passMessage = (key: keyof any) => () => `${matcherHint(`.not.${name}`)}\\n\\nExpected property ${formatKey(key)} to ${isNegation ? \"\" : \"not \"}be ${expectedMessage}.`;\r\n    const failMessage = (key: keyof any) => () => `${matcherHint(`.${name}`)}\\n\\nExpected property ${formatKey(key)} to ${isNegation ? \"not \" : \"\"}be ${expectedMessage}`;\r\n    return (received: object, key: keyof any, base?: object) => {\r\n        const pass = test(received, key, base);\r\n        const message = (pass ? passMessage : failMessage)(key);\r\n        return { pass, message };\r\n    };\r\n}\r\n\r\nfunction makePropertyExpectation(test: (object: object, key: keyof any) => boolean, name: string, expectedMessage: string, isNegation: boolean) {\r\n    const expectation = makePropertyExpectationWithBase(test, name, expectedMessage, isNegation);\r\n    return (received: object, key: keyof any) => expectation(received, key);\r\n}\r\n\r\nexpect.extend({\r\n    toHaveInheritedProperty: makePropertyExpectationWithBase(isInherited, \"toHaveInheritedProperty\", \"an inherited property\", /*isNegation*/ false),\r\n    toHaveOwnProperty: makePropertyExpectation(isOwn, \"toHaveOwnProperty\", \"an own property\", /*isNegation*/ false),\r\n    toHaveOwnMethod: makePropertyExpectation(hasOwnMethod, \"toHaveOwnMethod\", \"an own method\", /*isNegation*/ false),\r\n    toHaveOwnGetter: makePropertyExpectation(hasOwnGetter, \"toHaveOwnGetter\", \"an own getter\", /*isNegation*/ false),\r\n    toHaveOwnSetter: makePropertyExpectation(hasOwnSetter, \"toHaveOwnSetter\", \"an own setter\", /*isNegation*/ false),\r\n    toHaveWritableProperty: makePropertyExpectation(isWritable, \"toHaveWritableProperty\", \"writable\", /*isNegation*/ false),\r\n    toHaveNonWritableProperty: makePropertyExpectation(isNonWritable, \"toHaveNonWritableProperty\", \"writable\", /*isNegation*/ true),\r\n    toHaveEnumerableProperty: makePropertyExpectation(isEnumerable, \"toHaveEnumerableProperty\", \"enumerable\", /*isNegation*/ false),\r\n    toHaveNonEnumerableProperty: makePropertyExpectation(isNonEnumerable, \"toHaveNonEnumerableProperty\", \"enumerable\", /*isNegation*/ true),\r\n    toHaveConfigurableProperty: makePropertyExpectation(isConfigurable, \"toHaveConfigurableProperty\", \"configurable\", /*isNegation*/ false),\r\n    toHaveNonConfigurableProperty: makePropertyExpectation(isNonConfigurable, \"toHaveNonConfigurableProperty\", \"configurable\", /*isNegation*/ true),\r\n    toBeTypeof(received: unknown, typeTag: \"string\" | \"number\" | \"boolean\" | \"object\" | \"function\" | \"undefined\" | \"symbol\" | \"bigint\" | string & Record<never, never>) {\r\n        const receivedTypeTag = typeof received;\r\n        const pass = receivedTypeTag === typeTag;\r\n        const message = pass ?\r\n            () => `${matcherHint(\".not.toBeTypeof\")}\\n\\nExpected typeof value to not be ${printExpected(typeTag)}.` :\r\n            () => `${matcherHint(\".toBeTypeof\")}\\n\\nExpected typeof value to be ${printExpected(typeTag)}, but it was ${printReceived(typeTag)} instead.`\r\n        return { pass, message };\r\n    }\r\n});\r\n\r\ntype WeakAnyKeyOf<T> =\r\n    | (T extends unknown ? keyof T : never)\r\n    | (keyof any) & Record<never, never>;\r\n\r\ndeclare global {\r\n    namespace jest {\r\n        interface Matchers<R, T = {}> {\r\n            toBeTypeof(typeTag: \"string\" | \"number\" | \"boolean\" | \"object\" | \"function\" | \"undefined\" | \"symbol\" | \"bigint\" | string & Record<never, never>): R;\r\n            toHaveInheritedProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveOwnProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveOwnMethod(key: WeakAnyKeyOf<T>): R;\r\n            toHaveOwnGetter(key: WeakAnyKeyOf<T>): R;\r\n            toHaveOwnSetter(key: WeakAnyKeyOf<T>): R;\r\n            toHaveWritableProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveNonWritableProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveEnumerableProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveNonEnumerableProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveConfigurableProperty(key: WeakAnyKeyOf<T>): R;\r\n            toHaveNonConfigurableProperty(key: WeakAnyKeyOf<T>): R;\r\n        }\r\n    }\r\n}\r\n\r\nexport function disableDeprecations(deprecations: Deprecation[]) {\r\n    beforeEach(() => {\r\n        const reports = deprecations.map(dep => dep.reported);\r\n        for (const dep of deprecations) {\r\n            dep.reported = true;\r\n        }\r\n        afterEach(() => {\r\n            for (let i = 0; i < reports.length; i++) {\r\n                deprecations[i].reported = reports[i];\r\n            }\r\n        });\r\n    });\r\n\r\n}"]}